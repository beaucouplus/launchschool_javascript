<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>exercises</title>
  <script>
  var textExcerpt = 'To be or not to be-that is the question:\n' +
    'Whether \'tis nobler in the mind to suffer\n' +
    'The slings and arrows of outrageous fortune,\n' +
    'Or to take arms against a sea of troubles,\n' +
    'And, by opposing, end them. To die, to sleep-\n' +
    'No more-and by a sleep to say we end\n' +
    'The heartache and the thousand natural shocks\n' +
    'That flesh is heir to-\'tis a consummation\n' +
    'Devoutly to be wished. To die, to sleep-\n' +
    'To sleep, perchance to dream. Aye, there\'s the rub,\n' +
    'For in that sleep of death what dreams may come,\n' +
    'When we have shuffled off this mortal coil,\n' +
    'Must give us pause. There\'s the respect\n' +
    'That makes calamity of so long life.\n' +
    'For who would bear the whips and scorns of time,\n' +
    'Th\' oppressor\'s wrong, the proud man\'s contumely, [F: poor]\n' +
    'The pangs of despised love, the law’s delay, [F: disprized]\n' +
    'The insolence of office, and the spurns\n' +
    'That patient merit of the unworthy takes,\n' +
    'When he himself might his quietus make\n' +
    'With a bare bodkin? Who would fardels bear, [F: these Fardels]\n' +
    'To grunt and sweat under a weary life,\n' +
    'But that the dread of something after death,\n' +
    'The undiscovered country from whose bourn\n' +
    'No traveler returns, puzzles the will\n' +
    'And makes us rather bear those ills we have\n' +
    'Than fly to others that we know not of?\n' +
    'Thus conscience does make cowards of us all,\n' +
    'And thus the native hue of resolution\n' +
    'Is sicklied o\'er with the pale cast of thought,\n' +
    'And enterprises of great pitch and moment, [F: pith]\n' +
    'With this regard their currents turn awry, [F: away]\n' +
    'And lose the name of action.-Soft you now,\n' +
    'The fair Ophelia.-Nymph, in thy orisons\n' +
    'Be all my sins remembered';

  var positiveWords = ['fortune', 'dream', 'love', 'respect', 'patience', 'devout', 'noble', 'resolution'];
  var negativeWords = ['die', 'heartache', 'death', 'despise', 'scorn', 'weary', 'trouble', 'oppress'];


  function sentimentMessage(count) {
    var message = 'The sentiment of the text is '

    if (count < 0) {
      return message + "Negative."
    } else if (count > 0) {
      return message + "Positive."
    } else {
      return message + "Neutral."
    }
  }


  function sentiment(text) {
    // splitter pour choper chaque mot (sans ponctuation)
    // itérer sur ce tableau et vérifier à chaque fois si le tableau est positif ou négatif
    // incrémenter un nombre d'occurences positives ou négatives en fonction
    // retourner les phrases qui résument
    // faire le compte de positive - négatif
    // si c'est 0 c'est neutre, sinon c'est positif ou négatif

    var words = text.match(/\w+/g);
    var positive = [];
    var negative = [];

    var positiveRegex = /(fortunes?)|(dream(s|t|ed)?)|(love(s|d)?)|(respect(s|ed)?)|(patien(ce|t)?)|(devout(ly)?)|(nobler?)|(resolut(e|ion)?)/gi;
    var negativeRegex = /(die(s|d)?)|(heartached?)|(death)|(despise(s|d)?)|(scorn(s|ed)?)|(weary)|(troubles?)|(oppress(es|ed|or('s)?)?)/gi;




    var checkWordSentiment = function(word) {
      if (positiveRegex.test(word)) {
        positive.push(word);
      } else if (negativeRegex.test(word)) {
        negative.push(word);
      }
    }

    words.forEach(checkWordSentiment);

    console.log('There are ' + positive.length + ' positive words in the text.');
    console.log('Positive sentiments: ' + positive.join(', '));
    console.log('There are ' + negative.length + ' negative words in the text.');
    console.log('Negative sentiments: ' + negative.join(', '));
    console.log(sentimentMessage(positive.length - negative.length));

  }

  sentiment(textExcerpt);

  // console output

  // There are 5 positive words in the text.
  // Positive sentiments: fortune, dream, respect, love, resolution

  // There are 6 negative words in the text.
  // Negative sentiments: die, heartache, die, death, weary, death

  // The sentiment of the text is Negative.
  </script>
</head>

<body>
  <h1>exercises</h1>
</body>

</html>